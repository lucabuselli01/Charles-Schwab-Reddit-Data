<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Subreddit Display</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/themes/prism.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/prism.min.js" data-manual></script>

</head>
<body>
    <nav>
        <ul>
            <li><a href="/">Home</a></li>
            <li><a href="/nlp2sql">NLP2SQL</a></li>
            <li><a href="/analytics">Analytics</a></li>
        </ul>
    </nav>
    <!-- Banner Section -->
    <div class="banner">
        <h1>Welcome to Our Reddit Display</h1>
    </div>

    <!-- Subreddit Section -->
    <div class="subreddits">
        {% for subreddit in subreddits %}
        <div class="subreddit">
            <a href="https://www.reddit.com/r/{{ subreddit.Name }}" target="_blank">
                <img src="{{ subreddit.IconImg }}" alt="{{ subreddit.Name }}">
            </a>
            <h2>{{ subreddit.Name }}</h2>
            <p>Subscribers: {{ subreddit.Subscribers }}</p>
            <p>Active Users: {{ subreddit.ActiveUsers }}</p>
        </div>
        {% endfor %}
    </div>

    <hr>

    <!-- Lucidchart and Code Section -->
    <div class="display-area">
        <iframe class="lucidchart-erd" src="https://lucid.app/documents/embedded/5e2a7897-1253-4c00-a9ff-b0b182857a42" style="width: 100%; height: 400px; border: none;"></iframe>
        <div class="code-display">
            <div class="code-header">
                <span class="language">SQL</span>
                <button class="copy-button" onclick="copyToClipboard()">Copy Code</button>
            </div>
            <pre><code id="sql-code"></code></pre>
        </div>
    </div>

    <hr>

    <!-- Main Container -->
    <div class="main-container">
        <!-- Vertical Navbar -->
        <div class="vertical-navbar">
            <ul>
                <li><a href="#" class="table-link" data-table="tblUser">Users</a></li>
                <li><a href="#" class="table-link" data-table="tblSubreddit">Subreddits</a></li>
                <li><a href="#" class="table-link" data-table="tblPost">Posts</a></li>
                <li><a href="#" class="table-link" data-table="tblComment">Comments</a></li>
                <!-- Add a refresh button -->
                <li><a href="#" id="refresh-button">Refresh</a></li>
            </ul>
        </div>

        <!-- Display Frame -->
        <div class="display-frame" id="display-frame">
            <div class="cover" id="cover"> <!-- Initially hidden -->
                <img src="{{ url_for('static', filename='images/Charles_Schwab_Corporation_logo.png') }}" alt="Cover Image">
            </div>
                        
        </div>
    </div>

    <!-- Footer Section -->
    <footer>
        <div class="footer-column">
            <h3>Contact</h3>
            <p>Contact Information</p>
            <p>Email: contact@example.com</p>
            <p>Phone: (123) 456-7890</p>
        </div>
        <div class="footer-column">
            <h3>Most Recent Posts with "Schwab"</h3>
            <ul>
                {% for post in schwab_posts %}
                <li>
                    <a href="https://www.reddit.com{{ post.Permalink }}" target="_blank">{{ post.Title }}</a>
                    <div class="small-font">{{ post.subreddit.Name }}</div>
                    <div class="small-font">{{ post.CreatedUTC }}</div>
                </li>
                {% endfor %}
            </ul>
        </div>
        <div class="footer-column">
            <h3>Resources</h3>
            <div class="resources-images">
                <img src="{{ url_for('static', filename='images/openai-logo.jpg') }}" alt="Resource 1">
                <img src="{{ url_for('static', filename='images/reddit-logo.jpg') }}" alt="Resource 2">
                <img src="{{ url_for('static', filename='images/dataSQL-logo.jpg') }}" alt="Resource 3">
                <img src="{{ url_for('static', filename='images/university-of-denver-new-2022537.logowik.jpg') }}" alt="Resource 4">
                <img src="{{ url_for('static', filename='images/Charles_Schwab_Corporation_logo.png') }}" alt="Resource 5">
                <img src="{{ url_for('static', filename='images/Python-logo-notext.svg.png') }}" alt="Resource 6">
            </div>
        </div>
    </footer>
</body>
</html>
